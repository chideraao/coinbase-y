// import Axios from "axios";
// import React, { useEffect, useState } from "react";

// function ChartTable() {
// 	const [api, setApi] = useState("");
// 	useEffect(() => {
// 		Axios.get(
// 			`https://api.nomics.com/v1/currencies/sparkline?key=f120f033bda2bb941c1e6925f7ecfbe1&ids=BTC,ETH,XRP&start=2021-01-03T00%3A00%3A00Z&end=2021-01-04T00%3A00%3A00Z`
// 		).then((res) => {
// 			setApi(res.data);
// 			console.log(res.data);
// 		});
// 	}, []);
// 	return (
// 		<div>
// 			<h1>from ChartTable</h1>
// 			<p>{JSON.stringify(api)}</p>
// 		</div>
// 	);
// }

// export default ChartTable;

import Axios from "axios";
import React, { Component } from "react";
import Chart from "chart.js";
// import classes from "./LineGraph.module.css";

export default class chartTable extends Component {
	constructor(props) {
		super(props);

		this.state = {
			api: {},
		};
	}

	chartRef = React.createRef();

	componentDidMount() {
		Axios.get(
			`https://api.nomics.com/v1/currencies/sparkline?key=f120f033bda2bb941c1e6925f7ecfbe1&ids=BTC,ETH,XRP&start=2017-12-01T00%3A00%3A00Z&end=2021-01-04T00%3A00%3A00Z`
		).then((res) => {
			this.setState({ api: res.data });
		});

		const myChartRef = this.chartRef.current.getContext("2d");

		new Chart(myChartRef, {
			type: "line",
			data: {
				//Bring in data
				labels: [
					"2017-12-04T00:00:00Z",
					"2017-12-11T00:00:00Z",
					"2017-12-18T00:00:00Z",
					"2017-12-25T00:00:00Z",
					"2018-01-01T00:00:00Z",
					"2018-01-08T00:00:00Z",
					"2018-01-15T00:00:00Z",
					"2018-01-22T00:00:00Z",
					"2018-01-29T00:00:00Z",
					"2018-02-05T00:00:00Z",
					"2018-02-12T00:00:00Z",
					"2018-02-19T00:00:00Z",
					"2018-02-26T00:00:00Z",
					"2018-03-05T00:00:00Z",
					"2018-03-12T00:00:00Z",
					"2018-03-19T00:00:00Z",
					"2018-03-26T00:00:00Z",
					"2018-04-02T00:00:00Z",
					"2018-04-09T00:00:00Z",
					"2018-04-16T00:00:00Z",
					"2018-04-23T00:00:00Z",
					"2018-04-30T00:00:00Z",
					"2018-05-07T00:00:00Z",
					"2018-05-14T00:00:00Z",
					"2018-05-21T00:00:00Z",
					"2018-05-28T00:00:00Z",
					"2018-06-04T00:00:00Z",
					"2018-06-11T00:00:00Z",
					"2018-06-18T00:00:00Z",
					"2018-06-25T00:00:00Z",
					"2018-07-02T00:00:00Z",
					"2018-07-09T00:00:00Z",
					"2018-07-16T00:00:00Z",
					"2018-07-23T00:00:00Z",
					"2018-07-30T00:00:00Z",
					"2018-08-06T00:00:00Z",
					"2018-08-13T00:00:00Z",
					"2018-08-20T00:00:00Z",
					"2018-08-27T00:00:00Z",
					"2018-09-03T00:00:00Z",
					"2018-09-10T00:00:00Z",
					"2018-09-17T00:00:00Z",
					"2018-09-24T00:00:00Z",
					"2018-10-01T00:00:00Z",
					"2018-10-08T00:00:00Z",
					"2018-10-15T00:00:00Z",
					"2018-10-22T00:00:00Z",
					"2018-10-29T00:00:00Z",
					"2018-11-05T00:00:00Z",
					"2018-11-12T00:00:00Z",
					"2018-11-19T00:00:00Z",
					"2018-11-26T00:00:00Z",
					"2018-12-03T00:00:00Z",
					"2018-12-10T00:00:00Z",
					"2018-12-17T00:00:00Z",
					"2018-12-24T00:00:00Z",
					"2018-12-31T00:00:00Z",
					"2019-01-07T00:00:00Z",
					"2019-01-14T00:00:00Z",
					"2019-01-21T00:00:00Z",
					"2019-01-28T00:00:00Z",
					"2019-02-04T00:00:00Z",
					"2019-02-11T00:00:00Z",
					"2019-02-18T00:00:00Z",
					"2019-02-25T00:00:00Z",
					"2019-03-04T00:00:00Z",
					"2019-03-11T00:00:00Z",
					"2019-03-18T00:00:00Z",
					"2019-03-25T00:00:00Z",
					"2019-04-01T00:00:00Z",
					"2019-04-08T00:00:00Z",
					"2019-04-15T00:00:00Z",
					"2019-04-22T00:00:00Z",
					"2019-04-29T00:00:00Z",
					"2019-05-06T00:00:00Z",
					"2019-05-13T00:00:00Z",
					"2019-05-20T00:00:00Z",
					"2019-05-27T00:00:00Z",
					"2019-06-03T00:00:00Z",
					"2019-06-10T00:00:00Z",
					"2019-06-17T00:00:00Z",
					"2019-06-24T00:00:00Z",
					"2019-07-01T00:00:00Z",
					"2019-07-08T00:00:00Z",
					"2019-07-15T00:00:00Z",
					"2019-07-22T00:00:00Z",
					"2019-07-29T00:00:00Z",
					"2019-08-05T00:00:00Z",
					"2019-08-12T00:00:00Z",
					"2019-08-19T00:00:00Z",
					"2019-08-26T00:00:00Z",
					"2019-09-02T00:00:00Z",
					"2019-09-09T00:00:00Z",
					"2019-09-16T00:00:00Z",
					"2019-09-23T00:00:00Z",
					"2019-09-30T00:00:00Z",
					"2019-10-07T00:00:00Z",
					"2019-10-14T00:00:00Z",
					"2019-10-21T00:00:00Z",
					"2019-10-28T00:00:00Z",
					"2019-11-04T00:00:00Z",
					"2019-11-11T00:00:00Z",
					"2019-11-18T00:00:00Z",
					"2019-11-25T00:00:00Z",
					"2019-12-02T00:00:00Z",
					"2019-12-09T00:00:00Z",
					"2019-12-16T00:00:00Z",
					"2019-12-23T00:00:00Z",
					"2019-12-30T00:00:00Z",
					"2020-01-06T00:00:00Z",
					"2020-01-13T00:00:00Z",
					"2020-01-20T00:00:00Z",
					"2020-01-27T00:00:00Z",
					"2020-02-03T00:00:00Z",
					"2020-02-10T00:00:00Z",
					"2020-02-17T00:00:00Z",
					"2020-02-24T00:00:00Z",
					"2020-03-02T00:00:00Z",
					"2020-03-09T00:00:00Z",
					"2020-03-16T00:00:00Z",
					"2020-03-23T00:00:00Z",
					"2020-03-30T00:00:00Z",
					"2020-04-06T00:00:00Z",
					"2020-04-13T00:00:00Z",
					"2020-04-20T00:00:00Z",
					"2020-04-27T00:00:00Z",
					"2020-05-04T00:00:00Z",
					"2020-05-11T00:00:00Z",
					"2020-05-18T00:00:00Z",
					"2020-05-25T00:00:00Z",
					"2020-06-01T00:00:00Z",
					"2020-06-08T00:00:00Z",
					"2020-06-15T00:00:00Z",
					"2020-06-22T00:00:00Z",
					"2020-06-29T00:00:00Z",
					"2020-07-06T00:00:00Z",
					"2020-07-13T00:00:00Z",
					"2020-07-20T00:00:00Z",
					"2020-07-27T00:00:00Z",
					"2020-08-03T00:00:00Z",
					"2020-08-10T00:00:00Z",
					"2020-08-17T00:00:00Z",
					"2020-08-24T00:00:00Z",
					"2020-08-31T00:00:00Z",
					"2020-09-07T00:00:00Z",
					"2020-09-14T00:00:00Z",
					"2020-09-21T00:00:00Z",
					"2020-09-28T00:00:00Z",
					"2020-10-05T00:00:00Z",
					"2020-10-12T00:00:00Z",
					"2020-10-19T00:00:00Z",
					"2020-10-26T00:00:00Z",
					"2020-11-02T00:00:00Z",
					"2020-11-09T00:00:00Z",
					"2020-11-16T00:00:00Z",
					"2020-11-23T00:00:00Z",
					"2020-11-30T00:00:00Z",
					"2020-12-07T00:00:00Z",
					"2020-12-14T00:00:00Z",
					"2020-12-21T00:00:00Z",
					"2020-12-28T00:00:00Z",
					"2021-01-04T00:00:00Z",
				],
				datasets: [
					{
						backgroundColor: "rgba(0,0,0,0)",
						// borderColor: "rgba(0,0,0,0)",
						label: "Prices",
						data: [
							"15079.05700135",
							"19084.03582667",
							"13776.75470191",
							"13944.40642713",
							"16284.75716917",
							"13733.49272040",
							"11559.62254725",
							"11733.02637685",
							"8172.22724156",
							"8084.07529168",
							"10426.20926465",
							"9594.69298376",
							"11483.85289486",
							"9532.08554890",
							"8202.67182241",
							"8461.24629941",
							"6817.34657387",
							"7015.44240675",
							"8360.30026726",
							"8791.62001867",
							"9388.22832838",
							"9654.92369427",
							"8688.28166958",
							"8568.31569099",
							"7379.92466744",
							"7729.61095982",
							"6763.68405713",
							"6445.99063085",
							"6149.58157695",
							"6349.87486806",
							"6710.38633634",
							"6352.51608850",
							"7403.47926051",
							"8229.19159989",
							"7039.68893430",
							"6337.68278310",
							"6507.99925083",
							"6710.87488295",
							"7293.05642516",
							"6247.75184559",
							"6515.27209847",
							"6721.19198806",
							"6619.02051823",
							"6606.41544837",
							"6282.33165938",
							"6519.21215737",
							"6465.14636692",
							"6476.70043907",
							"6416.82992639",
							"5635.61197911",
							"4025.85712307",
							"4144.55261636",
							"3587.92704944",
							"3254.25149134",
							"4027.14508549",
							"3913.75184049",
							"4102.37130765",
							"3540.20779877",
							"3567.18139152",
							"3562.84802437",
							"3464.69274433",
							"3721.68288561",
							"3704.36725099",
							"3762.42071973",
							"3828.58025916",
							"3940.42610102",
							"4013.48595319",
							"4002.70903787",
							"4130.46917887",
							"5226.64356924",
							"5191.07615346",
							"5326.74213837",
							"5364.44298448",
							"5860.65064821",
							"6971.53929726",
							"8182.49569034",
							"8719.88218762",
							"8756.01983151",
							"7673.30660954",
							"9002.78443273",
							"10830.29765641",
							"10907.98606628",
							"11553.40264542",
							"10269.61166167",
							"10597.92525332",
							"9547.21794483",
							"10947.56595947",
							"11576.68976113",
							"10352.33976077",
							"10120.33941863",
							"9749.87515200",
							"10420.61588966",
							"10328.33456833",
							"10027.16492139",
							"8065.81334108",
							"7890.01933888",
							"8297.96352223",
							"8230.45023620",
							"9527.65021416",
							"9218.93003728",
							"9030.26288930",
							"8549.23977498",
							"6928.06420782",
							"7422.90736671",
							"7561.14595548",
							"7138.34252019",
							"7498.66272909",
							"7443.61719783",
							"7378.57543783",
							"8227.67081897",
							"8716.35104285",
							"8637.59222024",
							"9322.84784057",
							"10175.41789707",
							"9908.69451306",
							"10018.66628397",
							"8504.58719825",
							"8000.31890472",
							"5382.24313978",
							"5840.76165944",
							"5908.07793681",
							"6795.96388309",
							"6930.74859020",
							"7157.51386192",
							"7717.71583520",
							"8935.53248692",
							"8746.05263243",
							"9693.87970404",
							"8754.26254965",
							"9449.55077527",
							"9781.88442874",
							"9360.76440798",
							"9318.85876150",
							"9163.89677436",
							"9155.41820531",
							"9355.68628674",
							"9277.76954964",
							"9947.10864241",
							"11075.72534150",
							"11681.90285529",
							"11922.62315242",
							"11646.01283923",
							"11759.16470177",
							"10289.88572807",
							"10345.17630369",
							"10924.95096783",
							"10779.16542480",
							"10689.78775513",
							"11384.73082119",
							"11525.70515694",
							"13027.84165409",
							"13824.01623809",
							"15463.43917372",
							"15947.24887178",
							"18492.14445924",
							"18236.30670831",
							"19389.79394305",
							"19196.03810682",
							"23494.24413141",
							"26307.71441278",
							"33111.30262223",
							"32564.50331544",
						],
					},
				],
			},
			options: {
				elements: {
					point: { radius: 0 },
				},
				legend: {
					display: false,
				},
				scales: {
					xAxes: [{ display: false }],
					yAxes: [{ display: false }],
				},
			},
		});
	}

	render() {
		console.log(this.state.api);
		return (
			<div>
				<canvas id="myChart" ref={this.chartRef} color="red" />
			</div>
		);
	}
}
